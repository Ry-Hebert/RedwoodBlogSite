(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{455:
/*!************************************************!*\
  !*** ./src/layouts/PostsLayout/PostsLayout.js ***!
  \************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var a=n(/*! react */1),r=n.n(a),l=n(/*! @redwoodjs/router */28),s=n(/*! @redwoodjs/web */82);t.a=function(e){return r.a.createElement("div",{className:"rw-scaffold"},r.a.createElement(s.Flash,{timeout:1e3}),r.a.createElement("header",{className:"rw-header"},r.a.createElement("h1",{className:"rw-heading rw-heading-primary"},r.a.createElement(l.Link,{to:l.routes.posts(),className:"rw-link"},"Posts")),r.a.createElement(l.Link,{to:l.routes.newPost(),className:"rw-button rw-button-green"},r.a.createElement("div",{className:"rw-button-icon"},"+")," New Post")),r.a.createElement("main",{className:"rw-main"},e.children))}},462:
/*!******************************************************!*\
  !*** ./src/pages/PostsPage/PostsPage.js + 2 modules ***!
  \******************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime-corejs3/core-js/instance/map.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime-corejs3/core-js/json/stringify.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime-corejs3/helpers/slicedToArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime-corejs3/helpers/taggedTemplateLiteral.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@redwoodjs/router/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@redwoodjs/web/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./src/layouts/PostsLayout/PostsLayout.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/graphql-tag/src/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(455),s=n(452),c=n.n(s),o=n(82),i=n(83),u=n.n(i),m=n(28),d=(n(453),n(65)),w=n.n(d),E=n(58),b=n.n(E);n(454);function f(){var e=c()(["\n  mutation DeletePostMutation($id: Int!) {\n    deletePost(id: $id) {\n      id\n    }\n  }\n"]);return f=function(){return e},e}var h=u()(f()),p=function(e){var t=e;return e&&e.length>150&&(t=t.substring(0,150)+"..."),t},v=function(e){var t=e.posts,n=Object(o.useFlash)().addMessage,a=Object(o.useMutation)(h,{onCompleted:function(){n("Post deleted.",{classes:"rw-flash-success"})}}),l=b()(a,1)[0];return r.a.createElement("div",{className:"rw-segment rw-table-wrapper-responsive"},r.a.createElement("table",{className:"rw-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Body"),r.a.createElement("th",null,"Created at"),r.a.createElement("th",null,"Â "))),r.a.createElement("tbody",null,w()(t).call(t,(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,p(e.id)),r.a.createElement("td",null,p(e.title)),r.a.createElement("td",null,p(e.body)),r.a.createElement("td",null,(t=e.createdAt,r.a.createElement("time",{dateTime:t,title:t},new Date(t).toUTCString()))),r.a.createElement("td",null,r.a.createElement("nav",{className:"rw-table-actions"},r.a.createElement(m.Link,{to:m.routes.post({id:e.id}),title:"Show post "+e.id+" detail",className:"rw-button rw-button-small"},"Show"),r.a.createElement(m.Link,{to:m.routes.editPost({id:e.id}),title:"Edit post "+e.id,className:"rw-button rw-button-small rw-button-blue"},"Edit"),r.a.createElement("a",{href:"#",title:"Delete post "+e.id,className:"rw-button rw-button-small rw-button-red",onClick:function(){return t=e.id,void(confirm("Are you sure you want to delete post "+t+"?")&&l({variables:{id:t},refetchQueries:["POSTS"]}));var t}},"Delete"))));var t})))))};function N(){var e=c()(["\n  query POSTS {\n    posts {\n      id\n      title\n      body\n      createdAt\n    }\n  }\n"]);return N=function(){return e},e}var k=u()(N()),y=Object(o.withCell)({QUERY:k,Loading:function(){return r.a.createElement("div",null,"Loading...")},Empty:function(){return r.a.createElement("div",{className:"rw-text-center"},"No posts yet. ",r.a.createElement(m.Link,{to:m.routes.newPost(),className:"rw-link"},"Create one?"))},Success:function(e){var t=e.posts;return r.a.createElement(v,{posts:t})}});t.default=function(){return r.a.createElement(l.a,null,r.a.createElement(y,null))}}}]);
//# sourceMappingURL=8.b29e1f9b.chunk.js.map