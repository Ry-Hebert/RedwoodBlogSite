{"version":3,"sources":["layouts/PostsLayout/PostsLayout.js","components/PostForm/PostForm.js","components/EditPostCell/EditPostCell.js","pages/EditPostPage/EditPostPage.js"],"names":["PostsLayout","props","className","timeout","to","routes","posts","newPost","children","PostForm","onSubmit","data","onSave","post","id","error","wrapperClassName","titleClassName","listClassName","name","errorClassName","defaultValue","title","validation","required","body","disabled","loading","QUERY","gql","UPDATE_POST_MUTATION","addMessage","useFlash","useMutation","onCompleted","navigate","classes","updatePost","input","variables","EditPostPage","EditPostCell"],"mappings":";;;;;sJAsBeA,IAnBK,SAACC,GACnB,OACE,yBAAKC,UAAU,eACb,kBAAC,QAAD,CAAOC,QAAS,MAChB,4BAAQD,UAAU,aAChB,wBAAIA,UAAU,iCACZ,kBAAC,OAAD,CAAME,GAAIC,SAAOC,QAASJ,UAAU,WAApC,UAIF,kBAAC,OAAD,CAAME,GAAIC,SAAOE,UAAWL,UAAU,6BACpC,yBAAKA,UAAU,kBAAf,KADF,cAIF,0BAAMA,UAAU,WAAWD,EAAMO,a;;;;;yHCiDxBC,IAzDE,SAACR,GAAU,QAK1B,OACE,yBAAKC,UAAU,mBACb,kBAAC,OAAD,CAAMQ,SANO,SAACC,GAAS,MACzBV,EAAMW,OAAOD,EAAMV,SAAnB,UAAmBA,EAAOY,YAA1B,aAAmB,EAAaC,KAKJC,MAAOd,EAAMc,OACrC,kBAAC,YAAD,CACEA,MAAOd,EAAMc,MACbC,iBAAiB,wBACjBC,eAAe,sBACfC,cAAc,uBAGhB,kBAAC,QAAD,CACEC,KAAK,QACLjB,UAAU,WACVkB,eAAe,2BAHjB,SAOA,kBAAC,YAAD,CACED,KAAK,QACLE,aAAY,UAAEpB,EAAMY,YAAR,aAAE,EAAYS,MAC1BpB,UAAU,WACVkB,eAAe,0BACfG,WAAY,CAAEC,UAAU,KAE1B,kBAAC,aAAD,CAAYL,KAAK,QAAQjB,UAAU,mBAEnC,kBAAC,QAAD,CACEiB,KAAK,OACLjB,UAAU,WACVkB,eAAe,2BAHjB,QAOA,kBAAC,YAAD,CACED,KAAK,OACLE,aAAY,UAAEpB,EAAMY,YAAR,aAAE,EAAYY,KAC1BvB,UAAU,WACVkB,eAAe,0BACfG,WAAY,CAAEC,UAAU,KAE1B,kBAAC,aAAD,CAAYL,KAAK,OAAOjB,UAAU,mBAElC,yBAAKA,UAAU,mBACb,kBAAC,SAAD,CAAQwB,SAAUzB,EAAM0B,QAASzB,UAAU,4BAA3C,a;;;;;;;;;;;;;gpBCrDH,IAAM0B,EAAQC,IAAH,KAUZC,EAAuBD,IAAH,K,sCAQH,kBAAM,4C,QAEN,SAAC,GAAa,IAAXhB,EAAW,EAAXA,KAChBkB,EAAeC,qBAAfD,WAD2B,EAEME,sBAAYH,EAAsB,CACzEI,YAAa,WACXC,mBAAS9B,SAAOC,SAChByB,EAAW,gBAAiB,CAAEK,QAAS,wBALR,WAE5BC,EAF4B,YAEdV,EAFc,EAEdA,QAASZ,EAFK,EAELA,MAW9B,OACE,yBAAKb,UAAU,cACb,4BAAQA,UAAU,qBAChB,wBAAIA,UAAU,mCAAd,aAA2DW,EAAKC,KAElE,yBAAKZ,UAAU,mBACb,kBAACO,EAAA,EAAD,CAAUI,KAAMA,EAAMD,OAVb,SAAC0B,EAAOxB,GACrBuB,EAAW,CAAEE,UAAW,CAAEzB,KAAIwB,YASYvB,MAAOA,EAAOY,QAASA,SChCtDa,UARM,SAAC,GAAW,IAAT1B,EAAS,EAATA,GACtB,OACE,kBAACd,EAAA,EAAD,KACE,kBAACyC,EAAD,CAAc3B,GAAIA","file":"static/js/5.8af05b10.chunk.js","sourcesContent":["import { Link, routes } from '@redwoodjs/router'\nimport { Flash } from '@redwoodjs/web'\n\nconst PostsLayout = (props) => {\n  return (\n    <div className=\"rw-scaffold\">\n      <Flash timeout={1000} />\n      <header className=\"rw-header\">\n        <h1 className=\"rw-heading rw-heading-primary\">\n          <Link to={routes.posts()} className=\"rw-link\">\n            Posts\n          </Link>\n        </h1>\n        <Link to={routes.newPost()} className=\"rw-button rw-button-green\">\n          <div className=\"rw-button-icon\">+</div> New Post\n        </Link>\n      </header>\n      <main className=\"rw-main\">{props.children}</main>\n    </div>\n  )\n}\n\nexport default PostsLayout\n","import {\n  Form,\n  FormError,\n  FieldError,\n  Label,\n  TextField,\n  Submit,\n} from '@redwoodjs/forms'\n\nconst PostForm = (props) => {\n  const onSubmit = (data) => {\n    props.onSave(data, props?.post?.id)\n  }\n\n  return (\n    <div className=\"rw-form-wrapper\">\n      <Form onSubmit={onSubmit} error={props.error}>\n        <FormError\n          error={props.error}\n          wrapperClassName=\"rw-form-error-wrapper\"\n          titleClassName=\"rw-form-error-title\"\n          listClassName=\"rw-form-error-list\"\n        />\n\n        <Label\n          name=\"title\"\n          className=\"rw-label\"\n          errorClassName=\"rw-label rw-label-error\"\n        >\n          Title\n        </Label>\n        <TextField\n          name=\"title\"\n          defaultValue={props.post?.title}\n          className=\"rw-input\"\n          errorClassName=\"rw-input rw-input-error\"\n          validation={{ required: true }}\n        />\n        <FieldError name=\"title\" className=\"rw-field-error\" />\n\n        <Label\n          name=\"body\"\n          className=\"rw-label\"\n          errorClassName=\"rw-label rw-label-error\"\n        >\n          Body\n        </Label>\n        <TextField\n          name=\"body\"\n          defaultValue={props.post?.body}\n          className=\"rw-input\"\n          errorClassName=\"rw-input rw-input-error\"\n          validation={{ required: true }}\n        />\n        <FieldError name=\"body\" className=\"rw-field-error\" />\n\n        <div className=\"rw-button-group\">\n          <Submit disabled={props.loading} className=\"rw-button rw-button-blue\">\n            Save\n          </Submit>\n        </div>\n      </Form>\n    </div>\n  )\n}\n\nexport default PostForm\n","import { useMutation, useFlash } from '@redwoodjs/web'\nimport { navigate, routes } from '@redwoodjs/router'\nimport PostForm from 'src/components/PostForm'\n\nexport const QUERY = gql`\n  query FIND_POST_BY_ID($id: Int!) {\n    post: post(id: $id) {\n      id\n      title\n      body\n      createdAt\n    }\n  }\n`\nconst UPDATE_POST_MUTATION = gql`\n  mutation UpdatePostMutation($id: Int!, $input: UpdatePostInput!) {\n    updatePost(id: $id, input: $input) {\n      id\n    }\n  }\n`\n\nexport const Loading = () => <div>Loading...</div>\n\nexport const Success = ({ post }) => {\n  const { addMessage } = useFlash()\n  const [updatePost, { loading, error }] = useMutation(UPDATE_POST_MUTATION, {\n    onCompleted: () => {\n      navigate(routes.posts())\n      addMessage('Post updated.', { classes: 'rw-flash-success' })\n    },\n  })\n\n  const onSave = (input, id) => {\n    updatePost({ variables: { id, input } })\n  }\n\n  return (\n    <div className=\"rw-segment\">\n      <header className=\"rw-segment-header\">\n        <h2 className=\"rw-heading rw-heading-secondary\">Edit Post {post.id}</h2>\n      </header>\n      <div className=\"rw-segment-main\">\n        <PostForm post={post} onSave={onSave} error={error} loading={loading} />\n      </div>\n    </div>\n  )\n}\n","import PostsLayout from 'src/layouts/PostsLayout'\nimport EditPostCell from 'src/components/EditPostCell'\n\nconst EditPostPage = ({ id }) => {\n  return (\n    <PostsLayout>\n      <EditPostCell id={id} />\n    </PostsLayout>\n  )\n}\n\nexport default EditPostPage\n"],"sourceRoot":""}